<html class="no-js"><!-- no-js need it for modernzr -->

<head>
    <meta charset="utf-8" />        
    <title>{{=response.title or request.application}}</title>
    <meta name="application-name" content="{{=request.application}}" /> 
    <meta name="google-site-verification" content="" />

    <!-- All JavaScript at the bottom, except for Modernizr which enables HTML5 elements & feature detects -->
    <script src="{{=URL('static','js/modernizr-1.7.min.js')}}"> </script>
    
    {{#------  require CSS and JS files for this page (read info in base.css) ------}}
    {{response.files.append(URL('static','css/base.css'))}}
    {{response.files.append(URL('static','css/superfish.css'))}}
    {{response.files.append(URL('static','js/superfish.js'))}}
    {{#------ include web2py specific js code (jquery, calendar, form stuff) ------}}
    {{include 'web2py_ajax.html'}}

	<style>
	div.Menu		{				/* global Menu properties */
				position:	absolute;
				left:		190px;
				top:		60px;
				width:		110px;
				height:		20px;
				overflow:	hidden;
				background:	#eaeaea; 
				padding:	5px;
				text-align:	left;
				border-top:	1px solid black;
				border-bottom:	1px solid black;
				border-left:	1pt solid gray;
				border-right:	1pt solid gray;
				}
	div.Menu:hover		{
				height:		92px;
				cursor:		pointer;
				background:	#eaeaea;
				border:		1px solid black;
				opacity:	.7;
				}

	#Import:hover		{				/* individual Menu properties */
				height:		115px;
				}
	#Project:hover		{
				height:		184px;		/* 8*23 */
				}

	a.MenuLink		{				/* style of the links inside the Menus */
				text-decoration:none;
				color:		blue;
				width:		100%;
				padding:	3px;
				margin:		3px;
				}
	a.MenuLink:hover	{
				text-decoration:none;
				background:	#8caed4;
				}

	h1			{
				padding-bottom: 0pt;
				}


/*********** web2py specific ***********/
div.flash {
    font-weight: bold;
    display: none;
    position: fixed;    
    padding: 10px;
    top: 12%;
    right: 10%;
    min-width: 280px;
    opacity: 0.85;
    margin: 0px 0px 10px 10px;    
    color: #fff;    
    vertical-align: middle;
    cursor: pointer;
    background: #e54d4d;
    border: 2px solid lightgreen;
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    z-index: 2;
}
div.error {
    background-color: red;
    color: white;
    padding: 3px;
}
/* end base.css import */


	#appname		{
				color: #cccccc;
				}
	#appname h1		{
				padding-bottom: 5pt;
				}
	#statusbar		{
				height:		30px;
				padding:	0px;
				margin:		#5px 0px 20px 0px;
				color:		#e5e6e7;
				}
	#wrapper		{
				width:		90%;
				overflow:	hidden;
				}
	#footer			{
				margin-top: 30px;
				padding: 5px;
				}
	#statusbar, #footer	{
				background:	#eaeaea; 
				color:		black;
				border-top:	1px solid black;
				border-bottom:	1px solid black;
				}
	</style>

    {{
    #using sidebars need to know what sidebar you want to use
    #prior of using it, because of static width size of content, you can use
    #left_sidebar, right_sidebar, both or none (False left and right)    
    left_sidebar_enabled = globals().get('left_sidebar_enabled',False)
    right_sidebar_enabled = globals().get('right_sidebar_enabled',False)
    if left_sidebar_enabled and right_sidebar_enabled: width_content='63%'
    elif left_sidebar_enabled != right_sidebar_enabled: width_content='740px'
    else: width_content='100%'
    if left_sidebar_enabled: left_sidebar_style = 'style="display: block;"'
    else: left_sidebar_style = 'style="display: none;"'
    if right_sidebar_enabled: right_sidebar_style = 'style="display: block;"'
    else: right_sidebar_style = 'style="display: none;"'
    style_content = 'style="width: %s"' % width_content
    }}
</head>

<body id=body>
<div class="flash">{{=response.flash or ''}}</div> <!-- notification div -->
    
<div id="container">                        
      
<div id="wrapper">        
    
<div id="header"> <!-- header and login nav -->
	<span id="appname"><h1>biographer</h1></span>
</div><!-- header  -->
    
<div id=statusbar>

	<div class=Menu id=Workbench>
		Workbench
		<br/>
		<a class=MenuLink href="{{=URL(r=request, c='Workbench', f='index')}}">Console</a><br/>
		<a class=MenuLink href="{{=URL(r=request, c='Workbench', f='BioLayout')}}" id=widthWorkbench>BioLayout</a><br/>
		<a class=MenuLink href="{{=URL(r=request, c='Workbench', f='JSON')}}">JSON</a><br/>
	</div>

	<div class=Menu id=Layout>
		Layout
		<br/>
		<a class=MenuLink href="{{=URL(r=request, c='Workbench', f='BioLayout')}}" id=widthLayout>show BioLayout</a><br/>
		<a class=MenuLink href="{{=URL(r=request, c='BioLayout', f='Layout')}}">use biographer</a><br/>
		<a class=MenuLink href="{{=URL(r=request, c='graphviz', f='Layout')}}">use graphviz</a><br/>
	</div>

	<div class=Menu id=Visualization>
		Visualization
		<br/>
		<a class=MenuLink href="{{=URL(r=request, c='Workbench', f='JSON')}}" id=widthVisualization>JSON network</a>
		<a class=MenuLink href="{{=URL(r=request, c='BioVis', f='Visualization')}}">biographer</a>
		<a class=MenuLink href="{{=URL(r=request, c='graphviz', f='Visualization')}}">graphviz</a>
	</div>

	<div class=Menu id=Import>
		Import
		<br/>
		<a class=MenuLink href="{{=URL(r=request, c='JSON', f='importer')}}">JSON</a><br/>
	<!--	<a class=MenuLink href="{{=URL(r=request, c='ODP', f='importer')}}">ODP</a><br/>	-->
		<a class=MenuLink href="{{=URL(r=request, c='SBML', f='importer')}}">SBML</a><br/>
		<a class=MenuLink href="{{=URL(r=request, c='BioModels', f='importer')}}" id=widthImport>BioModels.net</a><br/>
		<a class=MenuLink href="{{=URL(r=request, c='Reactome', f='importer')}}">Reactome</a><br/>
	<!--	<a class=MenuLink href="{{=URL(r=request, c='BioPAX', f='importer')}}">BioPAX</a><br/>
		<a class=MenuLink href="{{=URL(r=request, c='PID', f='importer')}}">PID</a><br/>
		<a class=MenuLink href="{{=URL(r=request, c='BioCarta', f='importer')}}">BioCarta</a><br/>
		<a class=MenuLink href={{=URL(r=request, c='PathVisio', f='importer')}}>PathVision</a><br/>
		<a class=MenuLink href={{=URL(r=request, c='WikiPathways', f='importer')}}>WikiPathways</a><br/>	-->
	</div>

	<div class=Menu id=Export>
		Export
		<br/>
		<a class=MenuLink href="{{=URL(r=request, c='JSON', f='exporter')}}">JSON</a><br/>
		<a class=MenuLink href="{{=URL(r=request, c='ODP', f='exporter')}}">ODP</a><br/>
		<a class=MenuLink href="{{=URL(r=request, c='SBML', f='exporter')}}" id=widthExport>SBML</a><br/>
	</div>

	<div class=Menu id=Project>
		Project
		<br/>
		<a class=MenuLink href="{{=URL(r=request, c='Project', f='Roadmap')}}">Roadmap</a><br/>
		<a class=MenuLink href="http://code.google.com/p/biographer/">Home</a><br/>
		<a class=MenuLink href="http://code.google.com/p/biographer/source/browse/?repo=server">Source</a><br/>
		<a class=MenuLink href="http://code.google.com/p/biographer/source/list?repo=server">Changes</a><br/>
		<a class=MenuLink href="http://code.google.com/p/biographer/source/checkout?repo=server">Checkout</a><br/>
		<a class=MenuLink href="http://code.google.com/hosting/settings">Your password</a><br/>
		<a class=MenuLink href="http://lynx.biologie.hu-berlin.de/biographer" id=widthProject>biographer@Lynx</a><br/>
	</div>
</div>	<!-- statusbar -->

<script>
	wrapper		= document.getElementById('wrapper');
	Workbench	= document.getElementById('Workbench');
	Layout		= document.getElementById('Layout');
	Visualization	= document.getElementById('Visualization');
	Import		= document.getElementById('Import');
	Export		= document.getElementById('Export');
	Project		= document.getElementById('Project');

	padding				= 10;
	Workbench.style.width		= document.getElementById('widthWorkbench').offsetWidth + padding + "px";
	Layout.style.width		= document.getElementById('widthLayout').offsetWidth + padding + "px";
	Visualization.style.width	= document.getElementById('widthVisualization').offsetWidth + padding + "px";
	Import.style.width		= document.getElementById('widthImport').offsetWidth + padding + "px";
	Export.style.width		= document.getElementById('widthExport').offsetWidth + padding + "px";
	Project.style.width		= document.getElementById('widthProject').offsetWidth + padding + "px";

	Workbench.style.left		= wrapper.offsetLeft + "px";
	Layout.style.left 		= Workbench.offsetLeft + Workbench.offsetWidth + "px";
	Visualization.style.left 	= Layout.offsetLeft + Layout.offsetWidth + "px";
	Import.style.left 		= Visualization.offsetLeft + Visualization.offsetWidth + "px";
	Export.style.left	 	= Import.offsetLeft + Import.offsetWidth + "px";
	Project.style.left	 	= Export.offsetLeft + Export.offsetWidth + "px";
</script>
    
<div id="page"> <!-- Here my central body -->     

	<div id="content" {{=XML(style_content)}}>
		{{include}} 
	</div>

</div><!-- page -->                         

</div><!-- wrapper -->
<br/>

</div><!-- container -->        

<script>
function bringToFront(id)  
{  
    if (!document.getElementById ||  
        !document.getElementsByTagName)  
        return;  
  
    var obj = document.getElementById(id);  
    var divs = getAbsoluteDivs();  
    var max_index = 0;  
    var cur_index;  
  
    // Compute the maximal z-index of  
    // other absolute-positioned divs  
    for (i = 0; i < divs.length; i++)  
    {  
        var item = divs[i];  
        if (item == obj ||  
            item.style.zIndex == '')  
            continue;  
  
        cur_index = parseInt(item.style.zIndex);  
        if (max_index < cur_index)  
        {  
            max_index = cur_index;  
        }  
    }  
  
    obj.style.zIndex = max_index + 1;  
}
bringToFront('statusbar');
</script>

</body>

</html>
